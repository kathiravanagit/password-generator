<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Password Generator</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
        <style>
            :root{
                --bg: #ffffff;
                --card: linear-gradient(180deg, #ffffff 0%, #f7fbff 100%);
                --primary: #2563eb; /* blue */
                --primary-600: #1e40af;
                --muted: #6b7280;
                --glass: rgba(255,255,255,0.6);
                --radius: 14px;
            }
            *{box-sizing: border-box}
            html,body{height:100%}
            body{
                margin:0;
                font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
                background: linear-gradient(180deg, #000000 0%, #0b0b0b 50%, #111111 100%);
                display:flex;
                align-items:center;
                justify-content:center;
                padding:32px;
                color:#e6eef8;
                position:relative;
                min-height:100vh;
            }
                            .card{
                        width:100%;
                        max-width:520px;
                        background: var(--card);
                        border-radius: var(--radius);
                        box-shadow: 0 10px 30px rgba(2,6,23,0.08), 0 2px 6px rgba(2,6,23,0.03);
                        padding:28px;
                        border:1px solid rgba(15,23,42,0.04);
                        position:relative;
                        z-index:1; /* keep card above the overlay */
                    }
            .header{
                text-align:center;
                margin-bottom:18px;
            }
                    h1{
                margin:0 0 6px 0;
                font-size:1.4rem;
                font-weight:700;
                letter-spacing:-0.2px;
                        color:#07102a;
            }
            p.lead{
                margin:0;
                color:var(--muted);
                font-size:0.95rem;
            }
            .form{
                margin-top:18px;
                display:flex;
                gap:12px;
                align-items:center;
                justify-content:space-between;
            }
            .field{
                flex:1 1 auto;
                display:flex;
                flex-direction:column;
            }
            label{
                font-size:0.9rem;
                color:var(--muted);
                margin-bottom:8px;
            }
            input[type=number]{
                -moz-appearance:textfield;
                appearance:textfield;
                padding:12px 14px;
                border-radius:10px;
                border:1px solid rgba(15,23,42,0.06);
                background:linear-gradient(180deg, #ffffff, #fbfdff);
                box-shadow:inset 0 1px 0 rgba(255,255,255,0.6);
                font-size:1rem;
                width:120px;
                outline:none;
                transition:box-shadow .18s ease, transform .12s ease;
            }
            input[type=number]:focus{box-shadow:0 6px 18px rgba(37,99,235,0.12); transform:translateY(-1px)}
            .actions{
                display:flex;
                gap:12px;
                align-items:center;
            }
            .btn{
                background:linear-gradient(180deg,var(--primary),var(--primary-600));
                color:white;
                border:none;
                padding:12px 18px;
                font-weight:600;
                font-size:1rem;
                border-radius:12px;
                cursor:pointer;
                box-shadow: 0 8px 20px rgba(37,99,235,0.14);
                transition:transform .12s ease, box-shadow .12s ease, filter .12s ease;
            }
            .btn:hover{transform:translateY(-2px); filter:brightness(1.02)}
            .result-row{
                margin-top:18px;
                display:flex;
                gap:12px;
                align-items:center;
                justify-content:space-between;
            }
            .result-box{
                flex:1 1 auto;
                padding:12px 14px;
                border-radius:10px;
                border:1px solid rgba(37,99,235,0.12);
                background: linear-gradient(180deg, rgba(37,99,235,0.03), rgba(37,99,235,0.01));
                color:var(--primary-600);
                font-weight:600;
                word-break:break-all;
                min-height:44px;
                display:flex;
                align-items:center;
            }
            .copy-btn{background:transparent;border:1px solid rgba(15,23,42,0.06);padding:8px 10px;border-radius:10px;cursor:pointer}
            .note{margin-top:12px;color:var(--muted);font-size:0.85rem}
            @media (max-width:520px){
                .form{flex-direction:column;align-items:stretch}
                input[type=number]{width:100%}
                .actions{justify-content:flex-end}
                .result-row{flex-direction:column;align-items:stretch}
            }
        </style>
    </head>
    <body>
        <main class="card" role="main">
            <header class="header">
                <h1>Welcome to Password Generator</h1>
                <p class="lead">Your secure password management solution.</p>
            </header>

            <section aria-labelledby="generator">
                <form id="genForm" class="form" onsubmit="event.preventDefault(); generatePassword();">
                    <div class="field">
                        <label for="length">Enter the length of your password</label>
                        <input id="length" name="length" type="number" value="12" min="4" max="64" aria-describedby="lengthHelp" autocomplete="off" placeholder="12">
                        <div id="lengthHelp" class="note">Choose between 4 and 64 characters.</div>
                    </div>

                    <div class="actions">
                        <button type="submit" class="btn" id="generateBtn">Generate</button>
                    </div>
                </form>

                <div class="result-row" style="margin-top:18px;">
                    <div style="flex:1 1 auto;">
                        <div style="color:var(--muted);font-size:0.9rem;margin-bottom:8px">Generated password:</div>
                        <div id="result" class="result-box" aria-live="polite">—</div>
                    </div>
                    <div style="display:flex;flex-direction:column;gap:8px;margin-left:12px">
                        <button id="copyBtn" class="copy-btn" title="Copy password to clipboard">Copy</button>
                    </div>
                </div>
            </section>
        </main>

        <script>
            (function(){
                const chars = {
                    lower: 'abcdefghijklmnopqrstuvwxyz',
                    upper: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
                    digits: '0123456789',
                    symbols: '!@#$%^&*()-_=+[]{};:,.<>?'
                };

                const getAll = () => chars.lower + chars.upper + chars.digits + chars.symbols;

                function generatePassword(){
                    const lengthInput = document.getElementById('length');
                    const resultEl = document.getElementById('result');
                    let length = parseInt(lengthInput.value, 10) || 12;
                    length = Math.max(4, Math.min(64, length));
                    lengthInput.value = length;

                    const pool = getAll();
                    let pw = '';
                    const categories = [chars.lower, chars.upper, chars.digits, chars.symbols];
                    for(let i=0;i<categories.length && pw.length < length;i++){
                        pw += categories[i][Math.floor(Math.random() * categories[i].length)];
                    }
                    for(let i=pw.length;i<length;i++){
                        pw += pool[Math.floor(Math.random() * pool.length)];
                    }
                    pw = pw.split('').sort(()=>0.5 - Math.random()).join('');
                    resultEl.textContent = pw;
                }

                document.getElementById('copyBtn').addEventListener('click', async ()=>{
                    const text = document.getElementById('result').textContent;
                    if(!text || text === '—') return;
                    try{
                        await navigator.clipboard.writeText(text);
                        const btn = document.getElementById('copyBtn');
                        const prev = btn.textContent;
                        btn.textContent = 'Copied!';
                        setTimeout(()=> btn.textContent = prev, 1200);
                    }catch(e){
                        alert('Unable to copy – your browser may block clipboard access.');
                    }
                });

                document.getElementById('length').addEventListener('keydown', (e)=>{
                    if(e.key === 'Enter'){
                        e.preventDefault();
                        generatePassword();
                    }
                });

                                window.generatePassword = generatePassword;

                                const lengthInput = document.getElementById('length');
                                function initLength(){
                                    if(!lengthInput.value) lengthInput.value = '12';
                                }

                                window.addEventListener('pageshow', (e) => {
                                    initLength();
                                    generatePassword();
                                });

                                document.addEventListener('DOMContentLoaded', ()=>{
                                    initLength();
                                    generatePassword();
                                });
            })();
        </script>
    </body>
</html>